package com.example.service;import com.example.dto.ProfileDTO;import com.example.entity.ProfileEntity;import com.example.exception.AppBadRequestException;import com.example.repository.ProfileRepository;import com.example.util.MD5Util;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.Optional;@Servicepublic class ProfileService {    @Autowired    private ProfileRepository profileRepository;    public ProfileDTO create(ProfileDTO dto) {        Optional<ProfileEntity> profileByEmile = profileRepository.findByEmail(dto.getEmail());        if (profileByEmile.isPresent()) {            throw new AppBadRequestException("Email already exists");        }        ProfileEntity entity = new ProfileEntity();        entity.setName(dto.getName());        entity.setSurname(dto.getSurname());        entity.setEmail(dto.getEmail());        entity.setPassword(MD5Util.encode(dto.getPassword()));        entity.setStatus(dto.getStatus());        entity.setRole(dto.getRole());        profileRepository.save(entity);        dto.setId(entity.getId());        dto.setCreatedDate(entity.getCreatedDate());        return dto;    }    public Boolean updateDetail(Integer profileId, ProfileDTO dto) {        int effectedRows = profileRepository.updateDetail(profileId, dto.getName(), dto.getSurname());        return effectedRows == 1;    }}