package com.example.controller;import com.example.dto.ApiResponse;import com.example.dto.CommentDTO;import com.example.service.CommentService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.domain.Page;import org.springframework.http.HttpStatus;import org.springframework.http.ResponseEntity;import org.springframework.security.access.prepost.PreAuthorize;import org.springframework.security.core.parameters.P;import org.springframework.web.bind.annotation.*;import javax.validation.Valid;import java.time.LocalDate;import java.util.List;@RestController@RequestMapping("/api/v1/comment")public class CommentController {    @Autowired    private CommentService commentService;    @PostMapping("/open/create")    public ResponseEntity<ApiResponse> create(@Valid @RequestBody CommentDTO dto) {        ApiResponse response = commentService.create(dto);        return ResponseEntity.status(HttpStatus.CREATED).body(response);    }    @PutMapping("/open/update/{id}")    public ResponseEntity<ApiResponse> update(@PathVariable String id,                                              @RequestParam String content) {        ApiResponse response = commentService.update(id, content);        return ResponseEntity.ok(response);    }    @DeleteMapping("/open/delete/{id}")    public ResponseEntity<ApiResponse> update(@PathVariable String id) {        ApiResponse response = commentService.delete(id);        return ResponseEntity.ok(response);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/list/by-user/{id}")    public ResponseEntity<List<CommentDTO>> getList(@PathVariable Integer id,                                                    @RequestParam(defaultValue = "0") Integer page,                                                    @RequestParam(defaultValue = "30") Integer size) {        return ResponseEntity.ok(commentService.getList(id, page, size));    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging")    public ResponseEntity<Page<CommentDTO>> paging(@RequestParam(defaultValue = "0") Integer page,                                                   @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.paging(page, size);        return ResponseEntity.ok(commentDTOPage);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging/by-user/{id}")    public ResponseEntity<Page<CommentDTO>> pagingByProfileId(@PathVariable Integer id,                                                   @RequestParam(defaultValue = "0") Integer page,                                                   @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.pagingByProfileId(id, page, size);        return ResponseEntity.ok(commentDTOPage);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging/by-content/{content}")    public ResponseEntity<Page<CommentDTO>> pagingByContent(@PathVariable String content,                                                   @RequestParam(defaultValue = "0") Integer page,                                                   @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.pagingByContent(content, page, size);        return ResponseEntity.ok(commentDTOPage);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging/by-create-date/{date}")    public ResponseEntity<Page<CommentDTO>> pagingByCreatedDate(@PathVariable LocalDate date,                                                            @RequestParam(defaultValue = "0") Integer page,                                                            @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.pagingByCreatedDate(date, page, size);        return ResponseEntity.ok(commentDTOPage);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging/by-like-count/{count}")    public ResponseEntity<Page<CommentDTO>> pagingByLikeCount(@PathVariable Long count,                                                                @RequestParam(defaultValue = "0") Integer page,                                                                @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.pagingByLikeCount(count, page, size);        return ResponseEntity.ok(commentDTOPage);    }    @PreAuthorize("hasRole('ADMIN')")    @GetMapping("/close/paging/by-dislike-count/{count}")    public ResponseEntity<Page<CommentDTO>> pagingByDislikeCount(@PathVariable Long count,                                                              @RequestParam(defaultValue = "0") Integer page,                                                              @RequestParam(defaultValue = "30") Integer size) {        Page<CommentDTO> commentDTOPage = commentService.pagingByDislikeCount(count, page, size);        return ResponseEntity.ok(commentDTOPage);    }}